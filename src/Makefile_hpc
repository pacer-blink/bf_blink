CXX ?= g++

.PHONY=dirs clean

LIBS= -L${MSFITSLIB_DIR}/lib/ -lmsfitslib -lnova -L ${CFITSIO_LIB} -lcfitsio -lfftw3

# INCLUDES= -I${MAALI_MSCOMMONLIB_HOME}/src/ -I${MSFITSLIB_DIR}/include/
INCLUDES= -I${MSFITSLIB_DIR}/include/

all : dirs bin/pacer_dirty_image

dirs :
	[ -d bin ] || mkdir bin

clean :
	rm bin/*

install : all
	mkdir -p ${INSTALL_DIR}/bin
	cp bin/* ${INSTALL_DIR}/bin
        
#        mkdir -p ${INSTALL_DIR}/scripts/
#        cp scripts/*.sh ${INSTALL_DIR}/scripts/
        
#        mkdir -p ${INSTALL_DIR}/config/
#        cp config/*.config ${INSTALL_DIR}/config/
        
bin/pacer_dirty_image : pacer_imager_main.cpp pacer_imager.h pacer_imager.cpp
	$(CXX) -o $@ $(OPTS) pacer_imager_main.cpp pacer_imager.cpp -D_UNIX $(LIBS) $(INCLUDES)
